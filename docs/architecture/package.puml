@startuml package
' Set style for better readability
!theme mono
skinparam linetype ortho
skinparam dpi 150
hide empty members
skinparam shadowing false
top to bottom direction

' Main App Package
package "Semiotic Framework Tool" {
    
    package "View Layer" {
        class App
        class Page
        class Initializer
        class FileDownloader
        class BottomToolbar
        class QuestionComponent
        class LevelComponent
    }
    
    package "Business Layer" {
        class QuestionManager
        class ResponseManager
        class LevelController
    }
    
    package "Data Layer" {
        class XmlReader
        class XmlWriter
        class FrameworkDefinitionsXML
        class FrameworkResponseXML
    }
    
    package "Models" {
        class Tag
        class Question
        class Response
    }

    ' View Layer Relationships
    App --> Initializer
    Initializer --> Page : shows
    Initializer --> BottomToolbar : shows
    BottomToolbar --> FileDownloader
    Page --> LevelComponent : contains
    LevelComponent --> QuestionComponent : contains
    
    ' View to Business Layer
    LevelComponent --> LevelController : uses
    QuestionComponent --> QuestionManager : uses
    QuestionComponent --> ResponseManager : uses
    
    ' Business to Data Layer
    LevelController --> XmlReader : uses
    QuestionManager --> XmlReader : uses
    ResponseManager --> XmlWriter : uses
    
    ' Data Layer Initialization
    Initializer --> XmlReader : initializes
    FileDownloader --> XmlWriter : uses
    
    ' Data Layer to Models
    XmlReader --> FrameworkDefinitionsXML : reads
    XmlReader --> FrameworkResponseXML : reads
    XmlReader --> Tag : creates
    XmlReader --> Question : creates

    XmlWriter --> FrameworkResponseXML : writes
    
    XmlWriter --> Response : saves

    
    ' Model Relationships
    Question --> Tag : belongs to
    Response --> Question : answers
}
@enduml
